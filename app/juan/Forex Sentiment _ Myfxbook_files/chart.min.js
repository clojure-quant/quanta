var chartsObjects={},SECOND=1e3,MINUTE=60*SECOND,HOUR=60*MINUTE,DAY=24*HOUR,WEEK=7*DAY,YEAR=360*DAY;function ChartParent(t){this.series,this.categoriesLabels,this.categories,this.chartData=[],this.parseAsTime=!1,this.hasDataText=!1,this.legendNoLimit=!1,this.divId=t,this.sNumberSuffix="",this.numberSuffix="",this.prefix="",this.sprefix="",this.showSeriesName=!0,this.sharedTooltip=!1,this.maxDivXLines=5,this.maxDivYLines=5,this.gridLineWidth=1,this.titleSize="11px",this.options={colors:["rgba(180, 134, 180, 1)","rgba(226, 134, 134, 1)","rgba(90, 180, 180, 1)","rgba(255, 183, 137, 0.9)","rgba(181, 211, 93, 0.9)","rgba(246, 210, 99, 0.9)","rgba(204, 230, 250, 0.9)","rgba(203, 198, 90, 0.9)","rgba(192, 175, 210, 0.9)","rgba(146, 174, 114, 0.9)","rgba(192, 98, 101, 0.9)","rgba(90, 180, 226, 0.9)"],lang:{noData:""},noData:{position:{x:0,y:0,verticalAlign:"middle"}},chart:{renderTo:this.divId},title:{text:null,style:{fontSize:this.titleSize,fontFamily:"Arial",fontWeight:"bold"}},labels:{style:{fontSize:"11px",fontFamily:"Arial"}},credits:{enabled:!1},series:[],legend:{useHTML:!0,x:30,margin:2,itemStyle:{fontSize:"11px",color:"#666666",fontWeight:"normal"}}},this.setEmptyMessage=function(t){jQuery.browser.msie&&jQuery.browser.version<=8&&(this.options.lang.noData=t)},this.isEmpty=function(){return 0==this.options.series.length},this.getOptions=function(){return this.options},this.render=function(t){return Math.abs(t)>=1e3&&1e6>Math.abs(t)?this.toFixed(t/1e3,1e3)+"K":Math.abs(t)>=1e12?this.toFixed(t/1e12,1e12)+"T":Math.abs(t)>=1e9?this.toFixed(t/1e9,1e9)+"B":Math.abs(t)>=1e6?this.toFixed(t/1e6,1e6)+"M":this.toFixed(t,100)},this.toFixed=function(t,i){return Math.round(t*i)/i},this.checkSuffix=function(t){return"column"==t.type?this.sNumberSuffix:this.numberSuffix},this.checkPrefix=function(t){return"column"==t.type?this.sprefix:this.prefix},this.duration=function(t){var i=t,e=Math.floor(i/WEEK),s=Math.floor((i-=e*WEEK)/DAY),o=Math.floor((i-=s*DAY)/HOUR);i-=o*HOUR;var n=Math.floor(t/MINUTE);return(i-=n*MINUTE,e>0)?this.toFixed(t/WEEK,100)+"wk":s>0?this.toFixed(t/DAY,100)+"day":o>0?this.toFixed(t/HOUR,100)+"hr":n>0?this.toFixed(t/MINUTE,100)+"min":this.toFixed(t/SECOND,100)+"sec"},this.initData=function(t,i){try{hasText(t.categories)&&(0==i?this.options.xAxis.categories=t.categories:this.options.xAxis.tickPositions=t.categories,this.categories=t.categories,t.categories.length>20&&window.innerWidth<700&&(this.options.plotOptions.series.groupPadding=.45,this.options.plotOptions.series.pointPadding=0)),hasText(t.series)&&(this.options.series=t.series,this.series=t.series,this.series.length>0&&void 0!=this.series[0].dataText&&(this.hasDataText=!0)),hasText(t.title)&&(this.options.title.text=t.title),t.xAxisTitle&&(this.options.xAxis.title.text=t.xAxisTitle),t.categoriesFontSize&&this.options.xAxis&&(this.options.xAxis.labels.style.fontSize=t.categoriesFontSize),t.categoriesFont&&this.options.xAxis&&(this.options.xAxis.labels.style.fontFamily=t.categoriesFont),hasText(t.categoryRotation)&&(this.options.xAxis.labels.rotation=t.categoryRotation),t.chartHeight&&this.divId&&jQuery("#"+this.divId).height(t.chartHeight),t.categoriesLabels&&(this.categoriesLabels=t.categoriesLabels),t.chartData&&(this.chartData=t.chartData,this.options.plotOptions.series.cursor="pointer"),t.colorByPoint&&(this.options.plotOptions.series.colorByPoint=!0),hasText(t.sNumberSuffix)&&(this.sNumberSuffix=t.sNumberSuffix),hasText(t.numberSuffix)&&(this.numberSuffix=t.numberSuffix),hasText(t.prefix)&&(this.prefix=t.prefix),hasText(t.sprefix)&&(this.sprefix=t.sprefix),hasText(t.showSeriesName)&&(this.showSeriesName=t.showSeriesName),hasText(t.parseAsTime)&&(this.parseAsTime=t.parseAsTime),hasText(t.showStackLabels)&&(this.options.yAxis.stackLabels.enabled=t.showStackLabels),hasText(t.legendNoLimit)||t.legendNoLimit||(this.options.legend.itemWidth=180,this.options.legend.labelFormatter=function(){return this.name.length>25?this.name.slice(0,25)+"...":this.name}),hasText(t.appendWidth)&&t.appendWidth&&(this.options.plotOptions.series.appendWidth=t.appendWidth),hasText(t.colors)&&t.colors&&(this.options.colors=t.colors),hasText(t.pointRadius)&&t.pointRadius&&(this.options.plotOptions.scatter.marker.radius=t.pointRadius),hasText(t.sharedTooltip)&&t.sharedTooltip&&(this.options.tooltip.shared=t.sharedTooltip,this.sharedTooltip=t.sharedTooltip),hasText(t.maxPointWidth)&&(this.options.plotOptions.series.maxPointWidth=t.maxPointWidth,this.sharedTooltip=t.sharedTooltip),hasText(t.maxDivXLines)&&(this.maxDivXLines=t.maxDivXLines),hasText(t.maxDivYLines)&&(this.maxDivYLines=t.maxDivYLines),hasText(t.gridLineWidth)&&(this.gridLineWidth=t.gridLineWidth),hasText(t.titleSize)&&(this.titleSize=t.titleSize,this.options.title.style.fontSize=this.titleSize)}catch(e){console.trace("exception: location: chart.js - initData","reason: ",e)}},this.getFormattedValue=function(t,i,e){return t=parseFloat(t)||0,i=i||this.prefix||"",e=e||this.numberSuffix||"",t<0&&(t*=-1,i="-"+i),i+this.render(t)+e}}function LineColumnChart(t){this.parent.constructor.call(this,t);var i=this;function e(t,e){if(!isNaN(e)){if(e>100){var s=10*(1/Math.sqrt(e));i.options.plotOptions.series.marker.radius=s,hasText(t)&&t.series[0].update({marker:{radius:s}})}else hasText(t)&&t.series[0].update({marker:{radius:2}}),i.options.plotOptions.series.marker.radius=2}}this.options.chart={animation:!1,renderTo:this.divId,zoomType:"x",plotBorderColor:"#ECEBEB",plotBorderWidth:1,style:{fontSize:"11px",fontWeight:"normal"},events:{selection:function(t){try{if(t.xAxis){var s=t.xAxis[0],o=s.min,n=s.max;e(this,n-o)}else e(this,i.categories.length)}catch(r){}}}},this.options.xAxis={labels:{style:{fontSize:"11px",fontFamily:"Arial"}},categories:[],gridLineColor:"#ECEBEB",gridLineWidth:i.gridLineWidth,startOnTick:!0,tickColor:"#ffffff",tickPositioner:function(t,e){for(var s=[],o=e-t,n=Math.floor(o/i.maxDivXLines);t<=e;){var r=Math.floor(t);if(0==r){t++,s.push(r);continue}(o<=i.maxDivXLines||r%n==0)&&s.push(r),t++}return s}},this.options.yAxis=[{minorGridLineColor:"#F9F9F9",minorTickInterval:"auto",minorGridLineWidth:i.gridLineWidth,title:{text:null},offset:-10,labels:{useHTML:!1,formatter:function(){return i.getFormattedValue(this.value)}},gridLineColor:"#ECEBEB"},{title:{text:null},labels:{enabled:!1},gridLineColor:"#ECEBEB",gridLineWidth:0}],this.options.tooltip={useHTML:!0,formatter:function(){if(i.sharedTooltip){var t=this.x+"</br>";return jQuery.each(this.points,function(){t+='<span style="color:'+this.series.color+'">&#9679; </span>'+this.series.name+" ,"+i.getFormattedValue(this.y)+(this.series.index!=i.series.length-1?"<br/>":"")}),t}return i.hasDataText?i.series[this.series.index].dataText[this.point.index]:(i.showSeriesName?this.series.name+"<br/>":"")+this.x+"<br/><b>"+i.getFormattedValue(this.y,i.checkPrefix(this.series),i.checkSuffix(this.series))+"</b>"},shared:!1,animation:!1,backgroundColor:"white",zIndex:100},this.options.plotOptions={animation:!1,column:{borderWidth:.01},series:{maxPointWidth:60,connectNulls:!0,lineWidth:1,animation:!1,marker:{fillColor:"#FFFFFF",lineWidth:1.3,radius:1.5,lineColor:null,enabled:!1},states:{hover:{enabled:!0}}}},this.options.legend={align:"center",verticalAlign:"bottom",itemStyle:{fontWeight:"normal",fontSize:"11px"},maxHeight:70},this.setData=function(t){try{hasText(t)&&(this.initData(t,0),hasText(t.SYAxisMaxValue)&&(1!=this.options.series.length?this.options.yAxis[this.options.yAxis.length-1].max=t.SYAxisMaxValue:this.options.yAxis[0].max=t.SYAxisMaxValue),hasText(t.SYAxisMinValue)&&(this.options.yAxis[this.options.yAxis.length-1].min=t.SYAxisMinValue),hasText(t.showMarker)&&t.showMarker&&(this.options.plotOptions.series.marker.enabled=!0),hasText(this.categories)&&e(void 0,this.categories.length),hasText(t.endOnTick)&&(this.options.yAxis[0].endOnTick=t.endOnTick))}catch(i){}}}function StackColumn(t){this.parent.constructor.call(this,t);var i=this;this.options.xAxis={lineColor:"#ffffff",tickColor:"#ffffff",categories:[],labels:{style:{fontSize:"9px",fontFamily:"Arial"}},title:{style:{fontWeight:"bold",color:"black"},text:null}},this.options.yAxis={offset:-10,minorGridLineColor:"#F9F9F9",minorTickInterval:"auto",minorGridLineWidth:1,title:{text:null},labels:{formatter:function(){return i.parseAsTime?i.duration(this.value):void 0===i.categoriesLabels?i.getFormattedValue(this.value):i.categoriesLabels[i.categories.indexOf(this.value)]},style:{fontSize:"9px",fontFamily:"Arial"}},zIndex:0,gridLineColor:"#ECEBEB",stackLabels:{enabled:!0,style:{fontSize:"9px",fontFamily:"Tahoma",fontWeight:"normal"},formatter:function(){var t=0;this.axis.series[0].visible&&(t=i.series[0].data[this.x]);var e=0;this.axis.series[1].visible&&(e=i.series[1].data[this.x]);var s=t+e;return this.isNegative?s<0?i.render(s):void 0:s>=0?i.render(s):void 0},zIndex:0}},this.options.tooltip={formatter:function(){return i.hasDataText?i.series[this.series.index].dataText[this.point.index]:this.series.name+","+this.x+","+i.duration(this.y)},zIndex:100,backgroundColor:"white"},this.options.plotOptions={series:{animation:!1,maxPointWidth:60,stacking:"normal"},column:{animation:!1,fillOpacity:.5,borderWidth:0,dataLabels:{enabled:!1}}},this.options.legend.reversed=!0,this.setData=function(t){this.initData(t,0)}}function ScatterChart(t){this.parent.constructor.call(this,t);var i=this;this.options.chart={type:"scatter",renderTo:t},this.options.xAxis={gridLineColor:"#ECEBEB",gridLineWidth:1,tickColor:"#ffffff",labels:{style:{fontSize:"11px",fontFamily:"Arial"},formatter:function(){return void 0!=i.categoriesLabels?i.categoriesLabels[i.categories.indexOf(this.value)]:this.value}},title:{style:{fontWeight:"bold",color:"black"},text:null}},this.options.yAxis={offset:-10,minorGridLineColor:"#F9F9F9",minorTickInterval:"auto",minorGridLineWidth:1,title:{text:null},gridLineColor:"#ECEBEB",stackLabels:{enabled:!0,style:{color:"black"}},labels:{style:{fontSize:"11px",fontFamily:"Arial"},formatter:function(){return i.getFormattedValue(this.value)}}},this.options.tooltip={formatter:function(){return void 0!=i.series[this.series.index].dataText?i.series[this.series.index].dataText[this.point.index]:this.series.name+","+this.y},zIndex:100,backgroundColor:"white"},this.options.plotOptions={animation:!1,column:{animation:!1},scatter:{marker:{radius:5,states:{hover:{enabled:!0,lineColor:"rgb(100,100,100)"}}},states:{hover:{marker:{enabled:!1}}}}},this.options.legend.reversed=!0,this.setData=function(t){this.initData(t,1)}}function highchartsHandleClick(response){eval(response)}function ColumnChart(t){this.parent.constructor.call(this,t);var i=this;this.options.xAxis={lineColor:"#ffffff",tickColor:"#ffffff",categories:[],labels:{style:{fontSize:"9px",fontFamily:"Arial"},useHTML:!0,formatter:function(){return void 0==i.chartData?this.value:"<span index='"+i.categories.indexOf(this.value)+"' class='formatter' style='cursor: pointer'>"+this.value+"</span>"},title:{style:{fontWeight:"bold",color:"black"},text:null}}},this.options.yAxis={offset:-10,minorGridLineColor:"#F9F9F9",minorTickInterval:"auto",minorGridLineWidth:1,title:{text:null},labels:{style:{fontSize:"9px",fontFamily:"Arial"},formatter:function(){return i.getFormattedValue(this.value)}},gridLineColor:"#ECEBEB",zIndex:0},this.options.tooltip={formatter:function(){return(void 0!=i.series[0].name?i.series[0].name+",":"")+this.x+","+i.getFormattedValue(this.y)},zIndex:100,backgroundColor:"white"},this.options.plotOptions={animation:!1,column:{pointPadding:0,borderWidth:0,animation:!1,dataLabels:{style:{fontSize:"9px",fontWeight:"normal"},allowOverlap:!0,inside:!1,enabled:!0,formatter:function(){return i.getFormattedValue(this.y)}}},series:{animation:!1,maxPointWidth:60,point:{events:{click:function(){void 0!=i.chartData&&void 0!==i.eventHandler&&i.eventHandler("click",i.chartData[this.index])}},colorByPoint:!1},dataLabels:{style:{fontSize:"9px",fontWeight:"normal"},inside:!1,enabled:!0,formatter:function(){return i.getFormattedValue(this.y)}}}},this.setData=function(t){this.initData(t,0),hasText(t.SYAxisMinValue)&&0==t.SYAxisMinValue&&(this.options.yAxis.min=0,this.options.yAxis.max=1)}}function PieChart(t){ChartParent.call(this,t),this.options.chart={renderTo:this.divId,plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},this.options.tooltip={formatter:function(){return this.point.name+" , "+this.point.y},backgroundColor:"white",zIndex:100},this.options.plotOptions={pie:{animation:!1,allowPointSelect:!0,cursor:"pointer",dataLabels:{distance:10,enabled:!0,format:"{point.name}: {point.percentage:.1f} %",style:{fontSize:"9px",fontFamily:"Arial"}}}},this.setData=function(t){this.initData(t,1)}}function SimpleLineChart(t){this.parent.constructor.call(this,t);var i=this;this.options.chart={animation:!1,renderTo:this.divId,plotBorderWidth:0,spacingBottom:0,spacingTop:0,spacingLeft:0,spacingRight:0},this.options.tooltip={enabled:!1},this.options.xAxis={categories:[],gridLineColor:"#F2F0F0",gridLineWidth:i.gridLineWidth,startOnTick:!0,tickColor:"#ffffff",lineColor:"#ffffff",labels:{enabled:!1},tickPositioner:function(t,e){for(var s=[],o=e-t,n=Math.floor(o/i.maxDivXLines);t<=e;){var r=Math.floor(t);if(0==r){t++,s.push(r);continue}(o<=i.maxDivXLines||r%n==0)&&s.push(r),t++}return s}},this.options.yAxis={startOnTick:!1,minPadding:.1,title:{text:null},labels:{enabled:!1},gridLineColor:"#ECEBEB",plotLines:[{zIndex:-1,value:0,width:.2,color:"#808080"}],tickPositioner:function(t,e){for(var s=[],o=e-t,n=Math.floor(o/i.maxDivYLines);t<=e;){var r=Math.floor(t);if(0==r){t++,s.push(r);continue}(o<=i.maxDivXLines||r%n==0)&&s.push(r),t++}return s}},this.options.plotOptions={animation:!1,series:{pointPadding:0,groupPadding:0,connectNulls:!0,lineWidth:1,animation:!1,states:{hover:{enabled:!1}},marker:{enabled:!1}}},this.setData=function(t){this.initData(t,0)}}jQuery(function(){!function(t){var i=t.each;t.wrap(t.seriesTypes.column.prototype,"drawPoints",function(t){var e=this,s=void 0!=e.options.appendWidth?e.options.appendWidth:0;if(e.data.length>0){var o=e.barW>e.options.maxPointWidth?e.options.maxPointWidth:e.barW+s;i(this.data,function(t){t.shapeArgs.x+=(t.shapeArgs.width-o)/2,t.shapeArgs.width=o})}t.call(this)})}(Highcharts)}),LineColumnChart.prototype=new ChartParent,LineColumnChart.prototype.parent=ChartParent.prototype,StackColumn.prototype=new ChartParent,StackColumn.prototype.parent=ChartParent.prototype,ColumnChart.prototype=new ChartParent,ColumnChart.prototype.parent=ChartParent.prototype,ScatterChart.prototype=new ChartParent,ScatterChart.prototype.parent=ChartParent.prototype,PieChart.prototype=new ChartParent,PieChart.prototype.parent=ChartParent.prototype,SimpleLineChart.prototype=new ChartParent,SimpleLineChart.prototype.parent=ChartParent.prototype;var CHART_TYPE_LINE_COLUMN=0,CHART_TYPE_STACK_COLUMN=1,CHART_TYPE_SCATTER=2,CHART_TYPE_COLUMN=3,CHART_TYPE_PIE=4,CHART_TYPE_SIMPLE_LINE_CHART=5;function Chart(t,i,e,s,o,n){o||(o="");var r=void 0;if(this.divExist=!1,jQuery.fn.isExist=function(){return jQuery(this).length>0},jQuery("#"+e).isExist()){this.divExist=!0;var a=jQuery("#"+e);void 0!=i&&(a.height(i),void 0!=t&&a.width(t))}var h=void 0;if(f(o),chartsObjects[e]=this,hasText(o)&&this.divExist){var l=new PieChart(e);l.setEmptyMessage(o),l.options.chart.height=i,l.options.chart.width=t,r=new Highcharts.Chart(l.options),c(o)}function d(t){if(jQuery("#"+e).isExist()){var i=void 0==t?"Loading, please wait...":t;h.setEmptyMessage(i),r=new Highcharts.Chart(h.getOptions()),c(i)}}function p(){switch(s){case CHART_TYPE_STACK_COLUMN:h=new StackColumn(e);break;case CHART_TYPE_SCATTER:h=new ScatterChart(e);break;case CHART_TYPE_COLUMN:h=new ColumnChart(e);break;case CHART_TYPE_PIE:h=new PieChart(e);break;case CHART_TYPE_SIMPLE_LINE_CHART:h=new SimpleLineChart(e);break;default:h=new LineColumnChart(e)}}function c(t){jQuery.browser.msie&&jQuery.browser.version<=8||r.showLoading(t)}function f(s){try{void 0!=(r=chartsObjects[e])&&x()}catch(o){}void 0==h&&((h=new LineColumnChart(e)).options.chart.height=i,h.options.chart.width=t),d(s)}function u(){if(x(),h.isEmpty()){var t="No Data To Display";h.setEmptyMessage(t),r=new Highcharts.Chart(h.getOptions()),c(t)}else $("#"+h.divId).length>0&&(r=new Highcharts.Chart(h.getOptions()))}function x(){try{r.destroy()}catch(t){}}this.setDataJson=function(t){d(),p(),h.setData(t),u()},this.renderChart=function(t,i=!0){this.divExist&&(d(),i&&p(),h.eventHandler=this.eventHandler,jQuery.getJSON(t+"&rand="+Math.random(),function(t){h.setData(t),u(),$(".formatter").click(function(){var t=$(this).attr("index"),i=h.chartData[t];void 0!==h.eventHandler&&h.eventHandler("click",i)})}))},this.getChart=function(){return r},this.eventHandler=n,this.getChartSettings=function(){return h}}