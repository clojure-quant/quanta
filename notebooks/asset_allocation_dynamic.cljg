;; gorilla-repl.fileformat = 2

;; @@ [meta]
{:tagline "dynamic asset allocation", :tags ""}

;; @@

;; **
;;; # Dynamic Asset Allocation
;;; 
;;; Backtest of a sector rotation strategy described in https://drive.google.com/open?id=1FB1IpTC6WzfQkNoScCL3mQmOUVqTSENy
;; **

;; @@ [clj]
;; CONFIGURATION 
; What is the path to the sector fund csv files?
;(def path "../../quant/trateg/resources/sector/")
(def path "resources/sector/")
;; @@
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-var"],"#'demo/path"],"~:value","#'demo/path"]
;; <=

;; @@ [clj]
; Automatically Download Dependencies (if they are not installed already) 
 (use '[pinkgorilla.notebook.repl]) 
 (pinkgorilla.notebook.repl/add-dependencies 
   '[ ;[masterbuilder99.backtest "0.1.2"]
      ;[org.pinkgorilla/ta "0.1.5-SNAPSHOT"]  ;; DO NOT DO THIS WHEN USING PINKGORILLA NOTEBOOK AS A LIBRARY
      [org.pinkgorilla/gorilla-plot "0.9.3"] 
     ])
;; @@
;; =>
;;; ["^ ","~:type","~:list-like","~:open",["~:span",["^ ","~:class","clj-map"],"{"],"~:close",["^3",["^ ","^4","clj-map"],"}"],"~:separator",["^3",", "],"~:items",["~#list",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^1","^2",["^3",["^ ","^4","clj-vector"],"["],"^5",["^3",["^ ","^4","clj-vector"],"]"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","~:html","~:content",["^3",["^ ","^4","clj-symbol"],"org.pinkgorilla/gorilla-plot"],"~:value","org.pinkgorilla/gorilla-plot"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"0.9.3\""],"^;","\"0.9.3\""]]],"^;","[org.pinkgorilla/gorilla-plot \"0.9.3\"]"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-set"],"#{"],"^5",["^3",["^ ","^4","clj-set"],"}"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^1","^2",["^3",["^ ","^4","clj-vector"],"["],"^5",["^3",["^ ","^4","clj-vector"],"]"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-symbol"],"clj-time"],"^;","clj-time"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"0.14.3\""],"^;","\"0.14.3\""]]],"^;","[clj-time \"0.14.3\"]"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-vector"],"["],"^5",["^3",["^ ","^4","clj-vector"],"]"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-symbol"],"org.clojure/clojure"],"^;","org.clojure/clojure"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"1.10.1\""],"^;","\"1.10.1\""]]],"^;","[org.clojure/clojure \"1.10.1\"]"]]],"^;","#{[clj-time \"0.14.3\"] [org.clojure/clojure \"1.10.1\"]}"]]],"^;","[[org.pinkgorilla/gorilla-plot \"0.9.3\"] #{[clj-time \"0.14.3\"] [org.clojure/clojure \"1.10.1\"]}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^1","^2",["^3",["^ ","^4","clj-vector"],"["],"^5",["^3",["^ ","^4","clj-vector"],"]"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-symbol"],"org.clojure/clojure"],"^;","org.clojure/clojure"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"1.10.1\""],"^;","\"1.10.1\""]]],"^;","[org.clojure/clojure \"1.10.1\"]"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-set"],"#{"],"^5",["^3",["^ ","^4","clj-set"],"}"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^1","^2",["^3",["^ ","^4","clj-vector"],"["],"^5",["^3",["^ ","^4","clj-vector"],"]"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-symbol"],"org.clojure/core.specs.alpha"],"^;","org.clojure/core.specs.alpha"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"0.2.44\""],"^;","\"0.2.44\""]]],"^;","[org.clojure/core.specs.alpha \"0.2.44\"]"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-vector"],"["],"^5",["^3",["^ ","^4","clj-vector"],"]"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-symbol"],"org.clojure/spec.alpha"],"^;","org.clojure/spec.alpha"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"0.2.176\""],"^;","\"0.2.176\""]]],"^;","[org.clojure/spec.alpha \"0.2.176\"]"]]],"^;","#{[org.clojure/core.specs.alpha \"0.2.44\"] [org.clojure/spec.alpha \"0.2.176\"]}"]]],"^;","[[org.clojure/clojure \"1.10.1\"] #{[org.clojure/core.specs.alpha \"0.2.44\"] [org.clojure/spec.alpha \"0.2.176\"]}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^1","^2",["^3",["^ ","^4","clj-vector"],"["],"^5",["^3",["^ ","^4","clj-vector"],"]"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-symbol"],"org.clojure/spec.alpha"],"^;","org.clojure/spec.alpha"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"0.2.176\""],"^;","\"0.2.176\""]]],"^;","[org.clojure/spec.alpha \"0.2.176\"]"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-nil"],"nil"],"^;","nil"]]],"^;","[[org.clojure/spec.alpha \"0.2.176\"] nil]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^1","^2",["^3",["^ ","^4","clj-vector"],"["],"^5",["^3",["^ ","^4","clj-vector"],"]"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-symbol"],"org.clojure/core.specs.alpha"],"^;","org.clojure/core.specs.alpha"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"0.2.44\""],"^;","\"0.2.44\""]]],"^;","[org.clojure/core.specs.alpha \"0.2.44\"]"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-nil"],"nil"],"^;","nil"]]],"^;","[[org.clojure/core.specs.alpha \"0.2.44\"] nil]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^1","^2",["^3",["^ ","^4","clj-vector"],"["],"^5",["^3",["^ ","^4","clj-vector"],"]"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-symbol"],"clj-time"],"^;","clj-time"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"0.14.3\""],"^;","\"0.14.3\""]]],"^;","[clj-time \"0.14.3\"]"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-set"],"#{"],"^5",["^3",["^ ","^4","clj-set"],"}"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^1","^2",["^3",["^ ","^4","clj-vector"],"["],"^5",["^3",["^ ","^4","clj-vector"],"]"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-symbol"],"joda-time"],"^;","joda-time"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"2.9.9\""],"^;","\"2.9.9\""]]],"^;","[joda-time \"2.9.9\"]"]]],"^;","#{[joda-time \"2.9.9\"]}"]]],"^;","[[clj-time \"0.14.3\"] #{[joda-time \"2.9.9\"]}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^1","^2",["^3",["^ ","^4","clj-vector"],"["],"^5",["^3",["^ ","^4","clj-vector"],"]"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-symbol"],"joda-time"],"^;","joda-time"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"2.9.9\""],"^;","\"2.9.9\""]]],"^;","[joda-time \"2.9.9\"]"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-nil"],"nil"],"^;","nil"]]],"^;","[[joda-time \"2.9.9\"] nil]"]]],"^;","{[org.pinkgorilla/gorilla-plot \"0.9.3\"] #{[clj-time \"0.14.3\"] [org.clojure/clojure \"1.10.1\"]}, [org.clojure/clojure \"1.10.1\"] #{[org.clojure/core.specs.alpha \"0.2.44\"] [org.clojure/spec.alpha \"0.2.176\"]}, [org.clojure/spec.alpha \"0.2.176\"] nil, [org.clojure/core.specs.alpha \"0.2.44\"] nil, [clj-time \"0.14.3\"] #{[joda-time \"2.9.9\"]}, [joda-time \"2.9.9\"] nil}"]
;; <=

;; @@ [clj]
(ns dynalloc
  (:require 
   [clojure.pprint]
   ;[medley.core :as m]
   [pinkgorilla.notebook.repl :refer [secret load-edn-resource]]
   [pinkgorilla.ui.gorilla-plot.core :refer [list-plot]]
   [ta.data.random :refer [random-series]]
   [ta.data.csv :refer [load-bars-file save-bars-file]]
   [ta.data.alphavantage :refer [set-key! search get-daily get-daily-fx get-daily-crypto get-crypto-rating]]
   ;[ta.model.chart :refer :all]
   [ta.series.indicator :as ind :refer [change-n]]
   ;[ta.series.ta4j :as ta4j]
   [ta.model.trade :refer [set-ts get-ts trade]]
   [ta.model.rank :refer [rank]]
   [ta.model.stats :refer [gauntlet2]]
   [ta.series.compress :refer [mytest]]
   ;[ta.model.single :refer :all]
   ;:reload-all
   ))
;; @@
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-nil"],"nil"],"~:value","nil"]
;; <=

;; @@ [clj]
(def symbols [ :A :B :C])

(def model (atom {}))

(def default-params
  {:length 30
   :roc 2})
;; @@
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-var"],"#'dynalloc/default-params"],"~:value","#'dynalloc/default-params"]
;; <=

;; @@ [clj]
(defn calculate [params]
  (let [length (:length params)]
    (swap! model assoc :length length)
    ; calculations on individual symbols  
    (doall (map 
      (fn [symbol] 
        ;(println "calc" symbol)
        (let [save (partial set-ts model symbol)]
          (save :symbol symbol)
          (save :price (random-series length))
          (save :roc (change-n (:roc params) (get-ts model symbol :price))))) 
     symbols))
    ; calculate ranks
    (rank model length :roc false :rank)))

(calculate default-params)

;@model
(get-in @model [:symbols :B])
;; @@
;; =>
;;; ["^ ","~:type","~:list-like","~:open",["~:span",["^ ","~:class","clj-map"],"{"],"~:close",["^3",["^ ","^4","clj-map"],"}"],"~:separator",["^3",", "],"~:items",["~#list",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","~:html","~:content",["^3",["^ ","^4","clj-keyword"],":symbol"],"~:value",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":B"],"^;",":B"]]],"^;","[:symbol :B]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-vector"],"["],"^5",["^3",["^ ","^4","clj-vector"],"]"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"10"],"^;","10"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"9.114569171462248"],"^;","9.114569171462248"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.643124104436541"],"^;","8.643124104436541"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.122992361314678"],"^;","8.122992361314678"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.598415504965594"],"^;","8.598415504965594"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.226667208094256"],"^;","8.226667208094256"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"9.081629515821794"],"^;","9.081629515821794"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.541437017488342"],"^;","8.541437017488342"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"7.722267149509564"],"^;","7.722267149509564"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.38020024218274"],"^;","8.38020024218274"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"7.464256587002747"],"^;","7.464256587002747"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.269726263429893"],"^;","8.269726263429893"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"7.7012033561528215"],"^;","7.7012033561528215"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"7.928964492247813"],"^;","7.928964492247813"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.565879781472194"],"^;","8.565879781472194"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"9.50610686912775"],"^;","9.50610686912775"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.945229118406115"],"^;","8.945229118406115"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"9.898061389453678"],"^;","9.898061389453678"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"10.644585203736588"],"^;","10.644585203736588"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"10.690153177741868"],"^;","10.690153177741868"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"10.356033429978437"],"^;","10.356033429978437"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"9.468530076027285"],"^;","9.468530076027285"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"10.158998119218582"],"^;","10.158998119218582"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"10.227066979614282"],"^;","10.227066979614282"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"9.50702627800882"],"^;","9.50702627800882"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.572587323682935"],"^;","8.572587323682935"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"7.754293170269108"],"^;","7.754293170269108"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.751421191525633"],"^;","8.751421191525633"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"7.942190416835001"],"^;","7.942190416835001"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"7.630060939667858"],"^;","7.630060939667858"]]],"^;","[10 9.114569171462248 8.643124104436541 8.122992361314678 8.598415504965594 8.226667208094256 9.081629515821794 8.541437017488342 7.722267149509564 8.38020024218274 7.464256587002747 8.269726263429893 7.7012033561528215 7.928964492247813 8.565879781472194 9.50610686912775 8.945229118406115 9.898061389453678 10.644585203736588 10.690153177741868 10.356033429978437 9.468530076027285 10.158998119218582 10.227066979614282 9.50702627800882 8.572587323682935 7.754293170269108 8.751421191525633 7.942190416835001 7.630060939667858]"]]],"^;","[:price [10 9.114569171462248 8.643124104436541 8.122992361314678 8.598415504965594 8.226667208094256 9.081629515821794 8.541437017488342 7.722267149509564 8.38020024218274 7.464256587002747 8.269726263429893 7.7012033561528215 7.928964492247813 8.565879781472194 9.50610686912775 8.945229118406115 9.898061389453678 10.644585203736588 10.690153177741868 10.356033429978437 9.468530076027285 10.158998119218582 10.227066979614282 9.50702627800882 8.572587323682935 7.754293170269108 8.751421191525633 7.942190416835001 7.630060939667858]]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":roc"],"^;",":roc"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-vector"],"["],"^5",["^3",["^ ","^4","clj-vector"],"]"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-nil"],"nil"],"^;","nil"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-nil"],"nil"],"^;","nil"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-13.568758955634586"],"^;","-13.568758955634586"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-10.879031049017671"],"^;","-10.879031049017671"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-0.5172736030482133"],"^;","-0.5172736030482133"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"1.2763134836039465"],"^;","1.2763134836039465"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"5.619802980876456"],"^;","5.619802980876456"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"3.8262129904122366"],"^;","3.8262129904122366"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-14.96826493465717"],"^;","-14.96826493465717"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-1.887700804624258"],"^;","-1.887700804624258"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-3.3411245365061437"],"^;","-3.3411245365061437"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-1.3182737352356164"],"^;","-1.3182737352356164"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"3.174418863931635"],"^;","3.174418863931635"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-4.120593116715191"],"^;","-4.120593116715191"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"11.227809282929087"],"^;","11.227809282929087"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"19.89089973125642"],"^;","19.89089973125642"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"4.428609163467883"],"^;","4.428609163467883"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"4.12318655493816"],"^;","4.12318655493816"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"18.997345544048727"],"^;","18.997345544048727"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.002494196814725"],"^;","8.002494196814725"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-2.710784574835852"],"^;","-2.710784574835852"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-11.427554698263284"],"^;","-11.427554698263284"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-1.9026136994641303"],"^;","-1.9026136994641303"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.01113686597969"],"^;","8.01113686597969"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-6.417678530487923"],"^;","-6.417678530487923"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-16.177459864389647"],"^;","-16.177459864389647"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-18.43618663171308"],"^;","-18.43618663171308"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"2.086113107867042"],"^;","2.086113107867042"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"2.4231382853348142"],"^;","2.4231382853348142"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-12.813464548405415"],"^;","-12.813464548405415"]]],"^;","[nil nil -13.568758955634586 -10.879031049017671 -0.5172736030482133 1.2763134836039465 5.619802980876456 3.8262129904122366 -14.96826493465717 -1.887700804624258 -3.3411245365061437 -1.3182737352356164 3.174418863931635 -4.120593116715191 11.227809282929087 19.89089973125642 4.428609163467883 4.12318655493816 18.997345544048727 8.002494196814725 -2.710784574835852 -11.427554698263284 -1.9026136994641303 8.01113686597969 -6.417678530487923 -16.177459864389647 -18.43618663171308 2.086113107867042 2.4231382853348142 -12.813464548405415]"]]],"^;","[:roc [nil nil -13.568758955634586 -10.879031049017671 -0.5172736030482133 1.2763134836039465 5.619802980876456 3.8262129904122366 -14.96826493465717 -1.887700804624258 -3.3411245365061437 -1.3182737352356164 3.174418863931635 -4.120593116715191 11.227809282929087 19.89089973125642 4.428609163467883 4.12318655493816 18.997345544048727 8.002494196814725 -2.710784574835852 -11.427554698263284 -1.9026136994641303 8.01113686597969 -6.417678530487923 -16.177459864389647 -18.43618663171308 2.086113107867042 2.4231382853348142 -12.813464548405415]]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":rank"],"^;",":rank"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-vector"],"["],"^5",["^3",["^ ","^4","clj-vector"],"]"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"1"],"^;","1"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[2 2 3 2 1 1 2 2 2 1 2 2 2 2 1 1 1 2 1 1 1 3 2 2 3 3 3 2 1 2]"]]],"^;","[:rank [2 2 3 2 1 1 2 2 2 1 2 2 2 2 1 1 1 2 1 1 1 3 2 2 3 3 3 2 1 2]]"]]],"^;","{:symbol :B, :price [10 9.114569171462248 8.643124104436541 8.122992361314678 8.598415504965594 8.226667208094256 9.081629515821794 8.541437017488342 7.722267149509564 8.38020024218274 7.464256587002747 8.269726263429893 7.7012033561528215 7.928964492247813 8.565879781472194 9.50610686912775 8.945229118406115 9.898061389453678 10.644585203736588 10.690153177741868 10.356033429978437 9.468530076027285 10.158998119218582 10.227066979614282 9.50702627800882 8.572587323682935 7.754293170269108 8.751421191525633 7.942190416835001 7.630060939667858], :roc [nil nil -13.568758955634586 -10.879031049017671 -0.5172736030482133 1.2763134836039465 5.619802980876456 3.8262129904122366 -14.96826493465717 -1.887700804624258 -3.3411245365061437 -1.3182737352356164 3.174418863931635 -4.120593116715191 11.227809282929087 19.89089973125642 4.428609163467883 4.12318655493816 18.997345544048727 8.002494196814725 -2.710784574835852 -11.427554698263284 -1.9026136994641303 8.01113686597969 -6.417678530487923 -16.177459864389647 -18.43618663171308 2.086113107867042 2.4231382853348142 -12.813464548405415], :rank [2 2 3 2 1 1 2 2 2 1 2 2 2 2 1 1 1 2 1 1 1 3 2 2 3 3 3 2 1 2]}"]
;; <=

;; @@ [clj]
(defn plot-field [symbol field]
  (let [data (get-ts model symbol field) ]
   (list-plot data :joined true :color "blue")))
 
(plot-field :C :price)
(plot-field :C :rank)
;; @@
;; =>
;;; ["^ ","~:type","~:reagent","~:content",["^ ","~:hiccup",["~:p/vega",["^ ","~:$schema","https://vega.github.io/schema/vega/v5.json","~:width",400,"~:height",247.2188,"~:padding",["^ ","~:top",10,"~:left",55,"~:bottom",40,"~:right",10],"~:data",[["^ ","~:name","261c151c-34fe-4b69-97ea-9fd2d77b2511","~:values",["~#list",[["^ ","~:x",0,"~:y",1],["^ ","~:x",1,"~:y",1],["^ ","~:x",2,"~:y",2],["^ ","~:x",3,"~:y",3],["^ ","~:x",4,"~:y",3],["^ ","~:x",5,"~:y",2],["^ ","~:x",6,"~:y",3],["^ ","~:x",7,"~:y",1],["^ ","~:x",8,"~:y",1],["^ ","~:x",9,"~:y",3],["^ ","~:x",10,"~:y",3],["^ ","~:x",11,"~:y",3],["^ ","~:x",12,"~:y",3],["^ ","~:x",13,"~:y",3],["^ ","~:x",14,"~:y",3],["^ ","~:x",15,"~:y",3],["^ ","~:x",16,"~:y",3],["^ ","~:x",17,"~:y",1],["^ ","~:x",18,"~:y",2],["^ ","~:x",19,"~:y",2],["^ ","~:x",20,"~:y",3],["^ ","~:x",21,"~:y",2],["^ ","~:x",22,"~:y",3],["^ ","~:x",23,"~:y",1],["^ ","~:x",24,"~:y",1],["^ ","~:x",25,"~:y",1],["^ ","~:x",26,"~:y",1],["^ ","~:x",27,"~:y",1],["^ ","~:x",28,"~:y",2],["^ ","~:x",29,"~:y",3]]]]],"~:marks",[["^ ","^0","line","~:from",["^ ","^=","261c151c-34fe-4b69-97ea-9fd2d77b2511"],"~:encode",["^ ","~:enter",["^ ","~:x",["^ ","~:scale","x","~:field","x"],"~:y",["^ ","^E","y","^F","y"],"~:stroke",["^ ","~:value","blue"],"~:strokeWidth",["^ ","^H",2],"~:strokeOpacity",["^ ","^H",1]]]]],"~:scales",[["^ ","^>","x","^0","linear","~:range","width","~:zero",false,"~:domain",["^ ","^=","261c151c-34fe-4b69-97ea-9fd2d77b2511","^F","x"]],["^ ","^>","y","^0","linear","^L","height","~:nice",true,"^M",false,"^N",["^ ","^=","261c151c-34fe-4b69-97ea-9fd2d77b2511","^F","y"]]],"~:axes",[["^ ","~:orient","bottom","^E","x"],["^ ","^Q","left","^E","y"]]]],"~:map-keywords",true,"~:widget",true]]
;; <=

;; @@ [clj]
(defn exit-rank [model index position ]
  (let [symbol (:symbol position)
        rank (get-ts model symbol :rank index)]
      ;(println index "exit-rank" symbol)
      (when (>= rank 3)
        (do
          ;(println index "exit-rank" symbol "triggered.")
          true)
      )))

(defn entry-rank [model index symbol]
   (let [rank (get-ts model symbol :rank index)]
   ;(println index "entry-rank" symbol)
   (when (<= rank 1)
     (do
      ;(println index "entry-rank" symbol "triggered.")
      [symbol 10]))))
;; @@
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-var"],"#'dynalloc/entry-rank"],"~:value","#'dynalloc/entry-rank"]
;; <=

;; @@ [clj]
(def pf (trade model exit-rank entry-rank))
pf
;; @@
;; =>
;;; ["^ ","~:type","~:list-like","~:open",["~:span",["^ ","~:class","clj-map"],"{"],"~:close",["^3",["^ ","^4","clj-map"],"}"],"~:separator",["^3",", "],"~:items",["~#list",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","~:html","~:content",["^3",["^ ","^4","clj-keyword"],":balance"],"~:value",":balance"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"89878.52550231628"],"^;","89878.52550231628"]]],"^;","[:balance 89878.52550231628]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":position-size"],"^;",":position-size"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"20000"],"^;","20000"]]],"^;","[:position-size 20000]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":positions"],"^;",":positions"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":B"],"^;",":B"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":B"],"^;",":B"]]],"^;","[:symbol :B]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":long"],"^;",":long"]]],"^;","[:side :long]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2518"],"^;","2518"]]],"^;","[:qty 2518]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-entry"],"^;",":px-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"7.942190416835001"],"^;","7.942190416835001"]]],"^;","[:px-entry 7.942190416835001]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-entry"],"^;",":idx-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"28"],"^;","28"]]],"^;","[:idx-entry 28]"]]],"^;","{:symbol :B, :side :long, :qty 2518, :px-entry 7.942190416835001, :idx-entry 28}"]]],"^;","[:B {:symbol :B, :side :long, :qty 2518, :px-entry 7.942190416835001, :idx-entry 28}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":A"],"^;",":A"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":A"],"^;",":A"]]],"^;","[:symbol :A]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":long"],"^;",":long"]]],"^;","[:side :long]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2868"],"^;","2868"]]],"^;","[:qty 2868]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-entry"],"^;",":px-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"6.973056553546101"],"^;","6.973056553546101"]]],"^;","[:px-entry 6.973056553546101]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-entry"],"^;",":idx-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"29"],"^;","29"]]],"^;","[:idx-entry 29]"]]],"^;","{:symbol :A, :side :long, :qty 2868, :px-entry 6.973056553546101, :idx-entry 29}"]]],"^;","[:A {:symbol :A, :side :long, :qty 2868, :px-entry 6.973056553546101, :idx-entry 29}]"]]],"^;","{:B {:symbol :B, :side :long, :qty 2518, :px-entry 7.942190416835001, :idx-entry 28}, :A {:symbol :A, :side :long, :qty 2868, :px-entry 6.973056553546101, :idx-entry 29}}"]]],"^;","[:positions {:B {:symbol :B, :side :long, :qty 2518, :px-entry 7.942190416835001, :idx-entry 28}, :A {:symbol :A, :side :long, :qty 2868, :px-entry 6.973056553546101, :idx-entry 29}}]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":trades"],"^;",":trades"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-vector"],"["],"^5",["^3",["^ ","^4","clj-vector"],"]"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":open"],"^;",":open"]]],"^;","[:op :open]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":C"],"^;",":C"]]],"^;","[:symbol :C]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":buy"],"^;",":buy"]]],"^;","[:side :buy]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2000"],"^;","2000"]]],"^;","[:qty 2000]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"10"],"^;","10"]]],"^;","[:price 10]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"0"],"^;","0"]]],"^;","[:idx 0]"]]],"^;","{:op :open, :symbol :C, :side :buy, :qty 2000, :price 10, :idx 0}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":open"],"^;",":open"]]],"^;","[:op :open]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":A"],"^;",":A"]]],"^;","[:symbol :A]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":buy"],"^;",":buy"]]],"^;","[:side :buy]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2122"],"^;","2122"]]],"^;","[:qty 2122]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"9.422804911640672"],"^;","9.422804911640672"]]],"^;","[:price 9.422804911640672]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[:idx 2]"]]],"^;","{:op :open, :symbol :A, :side :buy, :qty 2122, :price 9.422804911640672, :idx 2}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":C"],"^;",":C"]]],"^;","[:symbol :C]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":close"],"^;",":close"]]],"^;","[:op :close]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2000"],"^;","2000"]]],"^;","[:qty 2000]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[:idx 3]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":sell"],"^;",":sell"]]],"^;","[:side :sell]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"7.702707645051241"],"^;","7.702707645051241"]]],"^;","[:price 7.702707645051241]"]]],"^;","{:symbol :C, :op :close, :qty 2000, :idx 3, :side :sell, :price 7.702707645051241}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":open"],"^;",":open"]]],"^;","[:op :open]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":B"],"^;",":B"]]],"^;","[:symbol :B]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":buy"],"^;",":buy"]]],"^;","[:side :buy]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2326"],"^;","2326"]]],"^;","[:qty 2326]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.598415504965594"],"^;","8.598415504965594"]]],"^;","[:price 8.598415504965594]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"4"],"^;","4"]]],"^;","[:idx 4]"]]],"^;","{:op :open, :symbol :B, :side :buy, :qty 2326, :price 8.598415504965594, :idx 4}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":A"],"^;",":A"]]],"^;","[:symbol :A]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":close"],"^;",":close"]]],"^;","[:op :close]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2122"],"^;","2122"]]],"^;","[:qty 2122]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"5"],"^;","5"]]],"^;","[:idx 5]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":sell"],"^;",":sell"]]],"^;","[:side :sell]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.181470344177255"],"^;","8.181470344177255"]]],"^;","[:price 8.181470344177255]"]]],"^;","{:symbol :A, :op :close, :qty 2122, :idx 5, :side :sell, :price 8.181470344177255}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":open"],"^;",":open"]]],"^;","[:op :open]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":A"],"^;",":A"]]],"^;","[:symbol :A]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":buy"],"^;",":buy"]]],"^;","[:side :buy]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2202"],"^;","2202"]]],"^;","[:qty 2202]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"9.081135609245868"],"^;","9.081135609245868"]]],"^;","[:price 9.081135609245868]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"6"],"^;","6"]]],"^;","[:idx 6]"]]],"^;","{:op :open, :symbol :A, :side :buy, :qty 2202, :price 9.081135609245868, :idx 6}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":A"],"^;",":A"]]],"^;","[:symbol :A]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":close"],"^;",":close"]]],"^;","[:op :close]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2202"],"^;","2202"]]],"^;","[:qty 2202]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"7"],"^;","7"]]],"^;","[:idx 7]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":sell"],"^;",":sell"]]],"^;","[:side :sell]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.16303215401928"],"^;","8.16303215401928"]]],"^;","[:price 8.16303215401928]"]]],"^;","{:symbol :A, :op :close, :qty 2202, :idx 7, :side :sell, :price 8.16303215401928}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":open"],"^;",":open"]]],"^;","[:op :open]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":C"],"^;",":C"]]],"^;","[:symbol :C]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":buy"],"^;",":buy"]]],"^;","[:side :buy]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2540"],"^;","2540"]]],"^;","[:qty 2540]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"7.872476547576474"],"^;","7.872476547576474"]]],"^;","[:price 7.872476547576474]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"7"],"^;","7"]]],"^;","[:idx 7]"]]],"^;","{:op :open, :symbol :C, :side :buy, :qty 2540, :price 7.872476547576474, :idx 7}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":C"],"^;",":C"]]],"^;","[:symbol :C]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":close"],"^;",":close"]]],"^;","[:op :close]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2540"],"^;","2540"]]],"^;","[:qty 2540]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"9"],"^;","9"]]],"^;","[:idx 9]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":sell"],"^;",":sell"]]],"^;","[:side :sell]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"6.7683066910385"],"^;","6.7683066910385"]]],"^;","[:price 6.7683066910385]"]]],"^;","{:symbol :C, :op :close, :qty 2540, :idx 9, :side :sell, :price 6.7683066910385}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":open"],"^;",":open"]]],"^;","[:op :open]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":A"],"^;",":A"]]],"^;","[:symbol :A]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":buy"],"^;",":buy"]]],"^;","[:side :buy]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2434"],"^;","2434"]]],"^;","[:qty 2434]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.214044483480402"],"^;","8.214044483480402"]]],"^;","[:price 8.214044483480402]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"10"],"^;","10"]]],"^;","[:idx 10]"]]],"^;","{:op :open, :symbol :A, :side :buy, :qty 2434, :price 8.214044483480402, :idx 10}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":A"],"^;",":A"]]],"^;","[:symbol :A]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":close"],"^;",":close"]]],"^;","[:op :close]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2434"],"^;","2434"]]],"^;","[:qty 2434]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"17"],"^;","17"]]],"^;","[:idx 17]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":sell"],"^;",":sell"]]],"^;","[:side :sell]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"7.968021601997492"],"^;","7.968021601997492"]]],"^;","[:price 7.968021601997492]"]]],"^;","{:symbol :A, :op :close, :qty 2434, :idx 17, :side :sell, :price 7.968021601997492}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":open"],"^;",":open"]]],"^;","[:op :open]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":C"],"^;",":C"]]],"^;","[:symbol :C]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":buy"],"^;",":buy"]]],"^;","[:side :buy]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"3354"],"^;","3354"]]],"^;","[:qty 3354]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"5.961867097679034"],"^;","5.961867097679034"]]],"^;","[:price 5.961867097679034]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"17"],"^;","17"]]],"^;","[:idx 17]"]]],"^;","{:op :open, :symbol :C, :side :buy, :qty 3354, :price 5.961867097679034, :idx 17}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":C"],"^;",":C"]]],"^;","[:symbol :C]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":close"],"^;",":close"]]],"^;","[:op :close]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"3354"],"^;","3354"]]],"^;","[:qty 3354]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"20"],"^;","20"]]],"^;","[:idx 20]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":sell"],"^;",":sell"]]],"^;","[:side :sell]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"5.70375603028943"],"^;","5.70375603028943"]]],"^;","[:price 5.70375603028943]"]]],"^;","{:symbol :C, :op :close, :qty 3354, :idx 20, :side :sell, :price 5.70375603028943}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":B"],"^;",":B"]]],"^;","[:symbol :B]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":close"],"^;",":close"]]],"^;","[:op :close]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2326"],"^;","2326"]]],"^;","[:qty 2326]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"21"],"^;","21"]]],"^;","[:idx 21]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":sell"],"^;",":sell"]]],"^;","[:side :sell]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"9.468530076027285"],"^;","9.468530076027285"]]],"^;","[:price 9.468530076027285]"]]],"^;","{:symbol :B, :op :close, :qty 2326, :idx 21, :side :sell, :price 9.468530076027285}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":open"],"^;",":open"]]],"^;","[:op :open]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":A"],"^;",":A"]]],"^;","[:symbol :A]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":buy"],"^;",":buy"]]],"^;","[:side :buy]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2869"],"^;","2869"]]],"^;","[:qty 2869]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"6.970001349775609"],"^;","6.970001349775609"]]],"^;","[:price 6.970001349775609]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"21"],"^;","21"]]],"^;","[:idx 21]"]]],"^;","{:op :open, :symbol :A, :side :buy, :qty 2869, :price 6.970001349775609, :idx 21}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":A"],"^;",":A"]]],"^;","[:symbol :A]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":close"],"^;",":close"]]],"^;","[:op :close]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2869"],"^;","2869"]]],"^;","[:qty 2869]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"23"],"^;","23"]]],"^;","[:idx 23]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":sell"],"^;",":sell"]]],"^;","[:side :sell]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"7.479742561558793"],"^;","7.479742561558793"]]],"^;","[:price 7.479742561558793]"]]],"^;","{:symbol :A, :op :close, :qty 2869, :idx 23, :side :sell, :price 7.479742561558793}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":open"],"^;",":open"]]],"^;","[:op :open]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":C"],"^;",":C"]]],"^;","[:symbol :C]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":buy"],"^;",":buy"]]],"^;","[:side :buy]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"3718"],"^;","3718"]]],"^;","[:qty 3718]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"5.378123648104573"],"^;","5.378123648104573"]]],"^;","[:price 5.378123648104573]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"23"],"^;","23"]]],"^;","[:idx 23]"]]],"^;","{:op :open, :symbol :C, :side :buy, :qty 3718, :price 5.378123648104573, :idx 23}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":open"],"^;",":open"]]],"^;","[:op :open]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":B"],"^;",":B"]]],"^;","[:symbol :B]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":buy"],"^;",":buy"]]],"^;","[:side :buy]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2518"],"^;","2518"]]],"^;","[:qty 2518]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"7.942190416835001"],"^;","7.942190416835001"]]],"^;","[:price 7.942190416835001]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"28"],"^;","28"]]],"^;","[:idx 28]"]]],"^;","{:op :open, :symbol :B, :side :buy, :qty 2518, :price 7.942190416835001, :idx 28}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":C"],"^;",":C"]]],"^;","[:symbol :C]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":close"],"^;",":close"]]],"^;","[:op :close]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"3718"],"^;","3718"]]],"^;","[:qty 3718]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"29"],"^;","29"]]],"^;","[:idx 29]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":sell"],"^;",":sell"]]],"^;","[:side :sell]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"5.354365604275969"],"^;","5.354365604275969"]]],"^;","[:price 5.354365604275969]"]]],"^;","{:symbol :C, :op :close, :qty 3718, :idx 29, :side :sell, :price 5.354365604275969}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":op"],"^;",":op"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":open"],"^;",":open"]]],"^;","[:op :open]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":A"],"^;",":A"]]],"^;","[:symbol :A]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":buy"],"^;",":buy"]]],"^;","[:side :buy]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2868"],"^;","2868"]]],"^;","[:qty 2868]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":price"],"^;",":price"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"6.973056553546101"],"^;","6.973056553546101"]]],"^;","[:price 6.973056553546101]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx"],"^;",":idx"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"29"],"^;","29"]]],"^;","[:idx 29]"]]],"^;","{:op :open, :symbol :A, :side :buy, :qty 2868, :price 6.973056553546101, :idx 29}"]]],"^;","[{:op :open, :symbol :C, :side :buy, :qty 2000, :price 10, :idx 0} {:op :open, :symbol :A, :side :buy, :qty 2122, :price 9.422804911640672, :idx 2} {:symbol :C, :op :close, :qty 2000, :idx 3, :side :sell, :price 7.702707645051241} {:op :open, :symbol :B, :side :buy, :qty 2326, :price 8.598415504965594, :idx 4} {:symbol :A, :op :close, :qty 2122, :idx 5, :side :sell, :price 8.181470344177255} {:op :open, :symbol :A, :side :buy, :qty 2202, :price 9.081135609245868, :idx 6} {:symbol :A, :op :close, :qty 2202, :idx 7, :side :sell, :price 8.16303215401928} {:op :open, :symbol :C, :side :buy, :qty 2540, :price 7.872476547576474, :idx 7} {:symbol :C, :op :close, :qty 2540, :idx 9, :side :sell, :price 6.7683066910385} {:op :open, :symbol :A, :side :buy, :qty 2434, :price 8.214044483480402, :idx 10} {:symbol :A, :op :close, :qty 2434, :idx 17, :side :sell, :price 7.968021601997492} {:op :open, :symbol :C, :side :buy, :qty 3354, :price 5.961867097679034, :idx 17} {:symbol :C, :op :close, :qty 3354, :idx 20, :side :sell, :price 5.70375603028943} {:symbol :B, :op :close, :qty 2326, :idx 21, :side :sell, :price 9.468530076027285} {:op :open, :symbol :A, :side :buy, :qty 2869, :price 6.970001349775609, :idx 21} {:symbol :A, :op :close, :qty 2869, :idx 23, :side :sell, :price 7.479742561558793} {:op :open, :symbol :C, :side :buy, :qty 3718, :price 5.378123648104573, :idx 23} {:op :open, :symbol :B, :side :buy, :qty 2518, :price 7.942190416835001, :idx 28} {:symbol :C, :op :close, :qty 3718, :idx 29, :side :sell, :price 5.354365604275969} {:op :open, :symbol :A, :side :buy, :qty 2868, :price 6.973056553546101, :idx 29}]"]]],"^;","[:trades [{:op :open, :symbol :C, :side :buy, :qty 2000, :price 10, :idx 0} {:op :open, :symbol :A, :side :buy, :qty 2122, :price 9.422804911640672, :idx 2} {:symbol :C, :op :close, :qty 2000, :idx 3, :side :sell, :price 7.702707645051241} {:op :open, :symbol :B, :side :buy, :qty 2326, :price 8.598415504965594, :idx 4} {:symbol :A, :op :close, :qty 2122, :idx 5, :side :sell, :price 8.181470344177255} {:op :open, :symbol :A, :side :buy, :qty 2202, :price 9.081135609245868, :idx 6} {:symbol :A, :op :close, :qty 2202, :idx 7, :side :sell, :price 8.16303215401928} {:op :open, :symbol :C, :side :buy, :qty 2540, :price 7.872476547576474, :idx 7} {:symbol :C, :op :close, :qty 2540, :idx 9, :side :sell, :price 6.7683066910385} {:op :open, :symbol :A, :side :buy, :qty 2434, :price 8.214044483480402, :idx 10} {:symbol :A, :op :close, :qty 2434, :idx 17, :side :sell, :price 7.968021601997492} {:op :open, :symbol :C, :side :buy, :qty 3354, :price 5.961867097679034, :idx 17} {:symbol :C, :op :close, :qty 3354, :idx 20, :side :sell, :price 5.70375603028943} {:symbol :B, :op :close, :qty 2326, :idx 21, :side :sell, :price 9.468530076027285} {:op :open, :symbol :A, :side :buy, :qty 2869, :price 6.970001349775609, :idx 21} {:symbol :A, :op :close, :qty 2869, :idx 23, :side :sell, :price 7.479742561558793} {:op :open, :symbol :C, :side :buy, :qty 3718, :price 5.378123648104573, :idx 23} {:op :open, :symbol :B, :side :buy, :qty 2518, :price 7.942190416835001, :idx 28} {:symbol :C, :op :close, :qty 3718, :idx 29, :side :sell, :price 5.354365604275969} {:op :open, :symbol :A, :side :buy, :qty 2868, :price 6.973056553546101, :idx 29}]]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":roundtrips"],"^;",":roundtrips"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-vector"],"["],"^5",["^3",["^ ","^4","clj-vector"],"]"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":C"],"^;",":C"]]],"^;","[:symbol :C]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":long"],"^;",":long"]]],"^;","[:side :long]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2000"],"^;","2000"]]],"^;","[:qty 2000]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-entry"],"^;",":px-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"10"],"^;","10"]]],"^;","[:px-entry 10]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-entry"],"^;",":idx-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"0"],"^;","0"]]],"^;","[:idx-entry 0]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-exit"],"^;",":px-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"7.702707645051241"],"^;","7.702707645051241"]]],"^;","[:px-exit 7.702707645051241]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-exit"],"^;",":idx-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"3"],"^;","3"]]],"^;","[:idx-exit 3]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":pl"],"^;",":pl"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-4594.584709897518"],"^;","-4594.584709897518"]]],"^;","[:pl -4594.584709897518]"]]],"^;","{:symbol :C, :side :long, :qty 2000, :px-entry 10, :idx-entry 0, :px-exit 7.702707645051241, :idx-exit 3, :pl -4594.584709897518}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":A"],"^;",":A"]]],"^;","[:symbol :A]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":long"],"^;",":long"]]],"^;","[:side :long]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2122"],"^;","2122"]]],"^;","[:qty 2122]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-entry"],"^;",":px-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"9.422804911640672"],"^;","9.422804911640672"]]],"^;","[:px-entry 9.422804911640672]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-entry"],"^;",":idx-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"2"],"^;","2"]]],"^;","[:idx-entry 2]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-exit"],"^;",":px-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.181470344177255"],"^;","8.181470344177255"]]],"^;","[:px-exit 8.181470344177255]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-exit"],"^;",":idx-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"5"],"^;","5"]]],"^;","[:idx-exit 5]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":pl"],"^;",":pl"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-2634.1119521573705"],"^;","-2634.1119521573705"]]],"^;","[:pl -2634.1119521573705]"]]],"^;","{:symbol :A, :side :long, :qty 2122, :px-entry 9.422804911640672, :idx-entry 2, :px-exit 8.181470344177255, :idx-exit 5, :pl -2634.1119521573705}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":A"],"^;",":A"]]],"^;","[:symbol :A]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":long"],"^;",":long"]]],"^;","[:side :long]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2202"],"^;","2202"]]],"^;","[:qty 2202]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-entry"],"^;",":px-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"9.081135609245868"],"^;","9.081135609245868"]]],"^;","[:px-entry 9.081135609245868]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-entry"],"^;",":idx-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"6"],"^;","6"]]],"^;","[:idx-entry 6]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-exit"],"^;",":px-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.16303215401928"],"^;","8.16303215401928"]]],"^;","[:px-exit 8.16303215401928]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-exit"],"^;",":idx-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"7"],"^;","7"]]],"^;","[:idx-exit 7]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":pl"],"^;",":pl"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-2021.6638084089454"],"^;","-2021.6638084089454"]]],"^;","[:pl -2021.6638084089454]"]]],"^;","{:symbol :A, :side :long, :qty 2202, :px-entry 9.081135609245868, :idx-entry 6, :px-exit 8.16303215401928, :idx-exit 7, :pl -2021.6638084089454}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":C"],"^;",":C"]]],"^;","[:symbol :C]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":long"],"^;",":long"]]],"^;","[:side :long]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2540"],"^;","2540"]]],"^;","[:qty 2540]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-entry"],"^;",":px-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"7.872476547576474"],"^;","7.872476547576474"]]],"^;","[:px-entry 7.872476547576474]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-entry"],"^;",":idx-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"7"],"^;","7"]]],"^;","[:idx-entry 7]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-exit"],"^;",":px-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"6.7683066910385"],"^;","6.7683066910385"]]],"^;","[:px-exit 6.7683066910385]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-exit"],"^;",":idx-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"9"],"^;","9"]]],"^;","[:idx-exit 9]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":pl"],"^;",":pl"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-2804.591435606453"],"^;","-2804.591435606453"]]],"^;","[:pl -2804.591435606453]"]]],"^;","{:symbol :C, :side :long, :qty 2540, :px-entry 7.872476547576474, :idx-entry 7, :px-exit 6.7683066910385, :idx-exit 9, :pl -2804.591435606453}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":A"],"^;",":A"]]],"^;","[:symbol :A]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":long"],"^;",":long"]]],"^;","[:side :long]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2434"],"^;","2434"]]],"^;","[:qty 2434]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-entry"],"^;",":px-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.214044483480402"],"^;","8.214044483480402"]]],"^;","[:px-entry 8.214044483480402]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-entry"],"^;",":idx-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"10"],"^;","10"]]],"^;","[:idx-entry 10]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-exit"],"^;",":px-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"7.968021601997492"],"^;","7.968021601997492"]]],"^;","[:px-exit 7.968021601997492]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-exit"],"^;",":idx-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"17"],"^;","17"]]],"^;","[:idx-exit 17]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":pl"],"^;",":pl"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-598.8196935294023"],"^;","-598.8196935294023"]]],"^;","[:pl -598.8196935294023]"]]],"^;","{:symbol :A, :side :long, :qty 2434, :px-entry 8.214044483480402, :idx-entry 10, :px-exit 7.968021601997492, :idx-exit 17, :pl -598.8196935294023}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":C"],"^;",":C"]]],"^;","[:symbol :C]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":long"],"^;",":long"]]],"^;","[:side :long]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"3354"],"^;","3354"]]],"^;","[:qty 3354]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-entry"],"^;",":px-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"5.961867097679034"],"^;","5.961867097679034"]]],"^;","[:px-entry 5.961867097679034]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-entry"],"^;",":idx-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"17"],"^;","17"]]],"^;","[:idx-entry 17]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-exit"],"^;",":px-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"5.70375603028943"],"^;","5.70375603028943"]]],"^;","[:px-exit 5.70375603028943]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-exit"],"^;",":idx-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"20"],"^;","20"]]],"^;","[:idx-exit 20]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":pl"],"^;",":pl"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-865.7045200247336"],"^;","-865.7045200247336"]]],"^;","[:pl -865.7045200247336]"]]],"^;","{:symbol :C, :side :long, :qty 3354, :px-entry 5.961867097679034, :idx-entry 17, :px-exit 5.70375603028943, :idx-exit 20, :pl -865.7045200247336}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":B"],"^;",":B"]]],"^;","[:symbol :B]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":long"],"^;",":long"]]],"^;","[:side :long]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2326"],"^;","2326"]]],"^;","[:qty 2326]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-entry"],"^;",":px-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"8.598415504965594"],"^;","8.598415504965594"]]],"^;","[:px-entry 8.598415504965594]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-entry"],"^;",":idx-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"4"],"^;","4"]]],"^;","[:idx-entry 4]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-exit"],"^;",":px-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"9.468530076027285"],"^;","9.468530076027285"]]],"^;","[:px-exit 9.468530076027285]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-exit"],"^;",":idx-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"21"],"^;","21"]]],"^;","[:idx-exit 21]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":pl"],"^;",":pl"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"2023.886492289494"],"^;","2023.886492289494"]]],"^;","[:pl 2023.886492289494]"]]],"^;","{:symbol :B, :side :long, :qty 2326, :px-entry 8.598415504965594, :idx-entry 4, :px-exit 9.468530076027285, :idx-exit 21, :pl 2023.886492289494}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":A"],"^;",":A"]]],"^;","[:symbol :A]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":long"],"^;",":long"]]],"^;","[:side :long]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"2869"],"^;","2869"]]],"^;","[:qty 2869]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-entry"],"^;",":px-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"6.970001349775609"],"^;","6.970001349775609"]]],"^;","[:px-entry 6.970001349775609]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-entry"],"^;",":idx-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"21"],"^;","21"]]],"^;","[:idx-entry 21]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-exit"],"^;",":px-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"7.479742561558793"],"^;","7.479742561558793"]]],"^;","[:px-exit 7.479742561558793]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-exit"],"^;",":idx-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"23"],"^;","23"]]],"^;","[:idx-exit 23]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":pl"],"^;",":pl"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"1462.4475366059546"],"^;","1462.4475366059546"]]],"^;","[:pl 1462.4475366059546]"]]],"^;","{:symbol :A, :side :long, :qty 2869, :px-entry 6.970001349775609, :idx-entry 21, :px-exit 7.479742561558793, :idx-exit 23, :pl 1462.4475366059546}"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-map"],"{"],"^5",["^3",["^ ","^4","clj-map"],"}"],"^6",["^3",", "],"^7",["^8",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":symbol"],"^;",":symbol"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":C"],"^;",":C"]]],"^;","[:symbol :C]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":side"],"^;",":side"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":long"],"^;",":long"]]],"^;","[:side :long]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":qty"],"^;",":qty"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"3718"],"^;","3718"]]],"^;","[:qty 3718]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-entry"],"^;",":px-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"5.378123648104573"],"^;","5.378123648104573"]]],"^;","[:px-entry 5.378123648104573]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-entry"],"^;",":idx-entry"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"23"],"^;","23"]]],"^;","[:idx-entry 23]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":px-exit"],"^;",":px-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"5.354365604275969"],"^;","5.354365604275969"]]],"^;","[:px-exit 5.354365604275969]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":idx-exit"],"^;",":idx-exit"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-long"],"29"],"^;","29"]]],"^;","[:idx-exit 29]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":pl"],"^;",":pl"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-88.33240695474893"],"^;","-88.33240695474893"]]],"^;","[:pl -88.33240695474893]"]]],"^;","{:symbol :C, :side :long, :qty 3718, :px-entry 5.378123648104573, :idx-entry 23, :px-exit 5.354365604275969, :idx-exit 29, :pl -88.33240695474893}"]]],"^;","[{:symbol :C, :side :long, :qty 2000, :px-entry 10, :idx-entry 0, :px-exit 7.702707645051241, :idx-exit 3, :pl -4594.584709897518} {:symbol :A, :side :long, :qty 2122, :px-entry 9.422804911640672, :idx-entry 2, :px-exit 8.181470344177255, :idx-exit 5, :pl -2634.1119521573705} {:symbol :A, :side :long, :qty 2202, :px-entry 9.081135609245868, :idx-entry 6, :px-exit 8.16303215401928, :idx-exit 7, :pl -2021.6638084089454} {:symbol :C, :side :long, :qty 2540, :px-entry 7.872476547576474, :idx-entry 7, :px-exit 6.7683066910385, :idx-exit 9, :pl -2804.591435606453} {:symbol :A, :side :long, :qty 2434, :px-entry 8.214044483480402, :idx-entry 10, :px-exit 7.968021601997492, :idx-exit 17, :pl -598.8196935294023} {:symbol :C, :side :long, :qty 3354, :px-entry 5.961867097679034, :idx-entry 17, :px-exit 5.70375603028943, :idx-exit 20, :pl -865.7045200247336} {:symbol :B, :side :long, :qty 2326, :px-entry 8.598415504965594, :idx-entry 4, :px-exit 9.468530076027285, :idx-exit 21, :pl 2023.886492289494} {:symbol :A, :side :long, :qty 2869, :px-entry 6.970001349775609, :idx-entry 21, :px-exit 7.479742561558793, :idx-exit 23, :pl 1462.4475366059546} {:symbol :C, :side :long, :qty 3718, :px-entry 5.378123648104573, :idx-entry 23, :px-exit 5.354365604275969, :idx-exit 29, :pl -88.33240695474893}]"]]],"^;","[:roundtrips [{:symbol :C, :side :long, :qty 2000, :px-entry 10, :idx-entry 0, :px-exit 7.702707645051241, :idx-exit 3, :pl -4594.584709897518} {:symbol :A, :side :long, :qty 2122, :px-entry 9.422804911640672, :idx-entry 2, :px-exit 8.181470344177255, :idx-exit 5, :pl -2634.1119521573705} {:symbol :A, :side :long, :qty 2202, :px-entry 9.081135609245868, :idx-entry 6, :px-exit 8.16303215401928, :idx-exit 7, :pl -2021.6638084089454} {:symbol :C, :side :long, :qty 2540, :px-entry 7.872476547576474, :idx-entry 7, :px-exit 6.7683066910385, :idx-exit 9, :pl -2804.591435606453} {:symbol :A, :side :long, :qty 2434, :px-entry 8.214044483480402, :idx-entry 10, :px-exit 7.968021601997492, :idx-exit 17, :pl -598.8196935294023} {:symbol :C, :side :long, :qty 3354, :px-entry 5.961867097679034, :idx-entry 17, :px-exit 5.70375603028943, :idx-exit 20, :pl -865.7045200247336} {:symbol :B, :side :long, :qty 2326, :px-entry 8.598415504965594, :idx-entry 4, :px-exit 9.468530076027285, :idx-exit 21, :pl 2023.886492289494} {:symbol :A, :side :long, :qty 2869, :px-entry 6.970001349775609, :idx-entry 21, :px-exit 7.479742561558793, :idx-exit 23, :pl 1462.4475366059546} {:symbol :C, :side :long, :qty 3718, :px-entry 5.378123648104573, :idx-entry 23, :px-exit 5.354365604275969, :idx-exit 29, :pl -88.33240695474893}]]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":equity"],"^;",":equity"],["^ ","^0","^1","^2",["^3",["^ ","^4","clj-vector"],"["],"^5",["^3",["^ ","^4","clj-vector"],"]"],"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"95405.41529010248"],"^;","95405.41529010248"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"92771.30333794511"],"^;","92771.30333794511"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"90749.63952953616"],"^;","90749.63952953616"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"87945.04809392971"],"^;","87945.04809392971"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"87346.22840040032"],"^;","87346.22840040032"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"86480.52388037558"],"^;","86480.52388037558"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"88504.41037266508"],"^;","88504.41037266508"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"89966.85790927103"],"^;","89966.85790927103"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"89878.52550231628"],"^;","89878.52550231628"]]],"^;","[95405.41529010248 92771.30333794511 90749.63952953616 87945.04809392971 87346.22840040032 86480.52388037558 88504.41037266508 89966.85790927103 89878.52550231628]"]]],"^;","[:equity [95405.41529010248 92771.30333794511 90749.63952953616 87945.04809392971 87346.22840040032 86480.52388037558 88504.41037266508 89966.85790927103 89878.52550231628]]"]]],"^;","{:balance 89878.52550231628, :position-size 20000, :positions {:B {:symbol :B, :side :long, :qty 2518, :px-entry 7.942190416835001, :idx-entry 28}, :A {:symbol :A, :side :long, :qty 2868, :px-entry 6.973056553546101, :idx-entry 29}}, :trades [{:op :open, :symbol :C, :side :buy, :qty 2000, :price 10, :idx 0} {:op :open, :symbol :A, :side :buy, :qty 2122, :price 9.422804911640672, :idx 2} {:symbol :C, :op :close, :qty 2000, :idx 3, :side :sell, :price 7.702707645051241} {:op :open, :symbol :B, :side :buy, :qty 2326, :price 8.598415504965594, :idx 4} {:symbol :A, :op :close, :qty 2122, :idx 5, :side :sell, :price 8.181470344177255} {:op :open, :symbol :A, :side :buy, :qty 2202, :price 9.081135609245868, :idx 6} {:symbol :A, :op :close, :qty 2202, :idx 7, :side :sell, :price 8.16303215401928} {:op :open, :symbol :C, :side :buy, :qty 2540, :price 7.872476547576474, :idx 7} {:symbol :C, :op :close, :qty 2540, :idx 9, :side :sell, :price 6.7683066910385} {:op :open, :symbol :A, :side :buy, :qty 2434, :price 8.214044483480402, :idx 10} {:symbol :A, :op :close, :qty 2434, :idx 17, :side :sell, :price 7.968021601997492} {:op :open, :symbol :C, :side :buy, :qty 3354, :price 5.961867097679034, :idx 17} {:symbol :C, :op :close, :qty 3354, :idx 20, :side :sell, :price 5.70375603028943} {:symbol :B, :op :close, :qty 2326, :idx 21, :side :sell, :price 9.468530076027285} {:op :open, :symbol :A, :side :buy, :qty 2869, :price 6.970001349775609, :idx 21} {:symbol :A, :op :close, :qty 2869, :idx 23, :side :sell, :price 7.479742561558793} {:op :open, :symbol :C, :side :buy, :qty 3718, :price 5.378123648104573, :idx 23} {:op :open, :symbol :B, :side :buy, :qty 2518, :price 7.942190416835001, :idx 28} {:symbol :C, :op :close, :qty 3718, :idx 29, :side :sell, :price 5.354365604275969} {:op :open, :symbol :A, :side :buy, :qty 2868, :price 6.973056553546101, :idx 29}], :roundtrips [{:symbol :C, :side :long, :qty 2000, :px-entry 10, :idx-entry 0, :px-exit 7.702707645051241, :idx-exit 3, :pl -4594.584709897518} {:symbol :A, :side :long, :qty 2122, :px-entry 9.422804911640672, :idx-entry 2, :px-exit 8.181470344177255, :idx-exit 5, :pl -2634.1119521573705} {:symbol :A, :side :long, :qty 2202, :px-entry 9.081135609245868, :idx-entry 6, :px-exit 8.16303215401928, :idx-exit 7, :pl -2021.6638084089454} {:symbol :C, :side :long, :qty 2540, :px-entry 7.872476547576474, :idx-entry 7, :px-exit 6.7683066910385, :idx-exit 9, :pl -2804.591435606453} {:symbol :A, :side :long, :qty 2434, :px-entry 8.214044483480402, :idx-entry 10, :px-exit 7.968021601997492, :idx-exit 17, :pl -598.8196935294023} {:symbol :C, :side :long, :qty 3354, :px-entry 5.961867097679034, :idx-entry 17, :px-exit 5.70375603028943, :idx-exit 20, :pl -865.7045200247336} {:symbol :B, :side :long, :qty 2326, :px-entry 8.598415504965594, :idx-entry 4, :px-exit 9.468530076027285, :idx-exit 21, :pl 2023.886492289494} {:symbol :A, :side :long, :qty 2869, :px-entry 6.970001349775609, :idx-entry 21, :px-exit 7.479742561558793, :idx-exit 23, :pl 1462.4475366059546} {:symbol :C, :side :long, :qty 3718, :px-entry 5.378123648104573, :idx-entry 23, :px-exit 5.354365604275969, :idx-exit 29, :pl -88.33240695474893}], :equity [95405.41529010248 92771.30333794511 90749.63952953616 87945.04809392971 87346.22840040032 86480.52388037558 88504.41037266508 89966.85790927103 89878.52550231628]}"]
;; <=

;; @@ [clj]
(clojure.pprint/print-table (:roundtrips pf) )
;; @@
;; ->
;;; 
;;; | :symbol | :side | :qty |         :px-entry | :idx-entry |          :px-exit | :idx-exit |                 :pl |
;;; |---------+-------+------+-------------------+------------+-------------------+-----------+---------------------|
;;; |      :C | :long | 2000 |                10 |          0 | 7.702707645051241 |         3 |  -4594.584709897518 |
;;; |      :A | :long | 2122 | 9.422804911640672 |          2 | 8.181470344177255 |         5 | -2634.1119521573705 |
;;; |      :A | :long | 2202 | 9.081135609245868 |          6 |  8.16303215401928 |         7 | -2021.6638084089454 |
;;; |      :C | :long | 2540 | 7.872476547576474 |          7 |   6.7683066910385 |         9 |  -2804.591435606453 |
;;; |      :A | :long | 2434 | 8.214044483480402 |         10 | 7.968021601997492 |        17 |  -598.8196935294023 |
;;; |      :C | :long | 3354 | 5.961867097679034 |         17 |  5.70375603028943 |        20 |  -865.7045200247336 |
;;; |      :B | :long | 2326 | 8.598415504965594 |          4 | 9.468530076027285 |        21 |   2023.886492289494 |
;;; |      :A | :long | 2869 | 6.970001349775609 |         21 | 7.479742561558793 |        23 |  1462.4475366059546 |
;;; |      :C | :long | 3718 | 5.378123648104573 |         23 | 5.354365604275969 |        29 |  -88.33240695474893 |
;; <-
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-nil"],"nil"],"~:value","nil"]
;; <=

;; @@ [clj]
(list-plot (:equity pf) :joined true :color "blue")
;; @@
;; =>
;;; ["^ ","~:type","~:reagent","~:content",["^ ","~:hiccup",["~:p/vega",["^ ","~:$schema","https://vega.github.io/schema/vega/v5.json","~:width",400,"~:height",247.2188,"~:padding",["^ ","~:top",10,"~:left",55,"~:bottom",40,"~:right",10],"~:data",[["^ ","~:name","2ad90ea8-87e0-429f-bb69-d5b0e6951ebd","~:values",["~#list",[["^ ","~:x",0,"~:y",95405.41529010248],["^ ","~:x",1,"~:y",92771.30333794511],["^ ","~:x",2,"~:y",90749.63952953616],["^ ","~:x",3,"~:y",87945.04809392971],["^ ","~:x",4,"~:y",87346.22840040032],["^ ","~:x",5,"~:y",86480.52388037558],["^ ","~:x",6,"~:y",88504.41037266508],["^ ","~:x",7,"~:y",89966.85790927103],["^ ","~:x",8,"~:y",89878.52550231628]]]]],"~:marks",[["^ ","^0","line","~:from",["^ ","^=","2ad90ea8-87e0-429f-bb69-d5b0e6951ebd"],"~:encode",["^ ","~:enter",["^ ","~:x",["^ ","~:scale","x","~:field","x"],"~:y",["^ ","^E","y","^F","y"],"~:stroke",["^ ","~:value","blue"],"~:strokeWidth",["^ ","^H",2],"~:strokeOpacity",["^ ","^H",1]]]]],"~:scales",[["^ ","^>","x","^0","linear","~:range","width","~:zero",false,"~:domain",["^ ","^=","2ad90ea8-87e0-429f-bb69-d5b0e6951ebd","^F","x"]],["^ ","^>","y","^0","linear","^L","height","~:nice",true,"^M",false,"^N",["^ ","^=","2ad90ea8-87e0-429f-bb69-d5b0e6951ebd","^F","y"]]],"~:axes",[["^ ","~:orient","bottom","^E","x"],["^ ","^Q","left","^E","y"]]]],"~:map-keywords",true,"~:widget",true]]
;; <=

;; @@ [clj]
(gauntlet2 pf)
;; @@
;; =>
;;; ["^ ","~:type","~:list-like","~:open",["~:span",["^ ","~:class","clj-map"],"{"],"~:close",["^3",["^ ","^4","clj-map"],"}"],"~:separator",["^3",", "],"~:items",["~#list",[["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","~:html","~:content",["^3",["^ ","^4","clj-keyword"],":rt-ct"],"~:value",":rt-ct"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-unkown"],"9"],"^;","9"]]],"^;","[:rt-ct 9]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":total-return"],"^;",":total-return"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"0.5643413090504211"],"^;","0.5643413090504211"]]],"^;","[:total-return 0.5643413090504211]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":mean-return"],"^;",":mean-return"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"0.9437602327591116"],"^;","0.9437602327591116"]]],"^;","[:mean-return 0.9437602327591116]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":sd-return"],"^;",":sd-return"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"0.10602895959435213"],"^;","0.10602895959435213"]]],"^;","[:sd-return 0.10602895959435213]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":win-rate"],"^;",":win-rate"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"0.2222222222222222"],"^;","0.2222222222222222"]]],"^;","[:win-rate 0.2222222222222222]"],["^ ","^0","^1","^2",null,"^5",null,"^6",["^3"," "],"^7",["^8",[["^ ","^0","^9","^:",["^3",["^ ","^4","clj-keyword"],":sharpe"],"^;",":sharpe"],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-double"],"-4.203178948983273"],"^;","-4.203178948983273"]]],"^;","[:sharpe -4.203178948983273]"]]],"^;","{:rt-ct 9, :total-return 0.5643413090504211, :mean-return 0.9437602327591116, :sd-return 0.10602895959435213, :win-rate 0.2222222222222222, :sharpe -4.203178948983273}"]
;; <=

;; @@ [clj]
; SETUP / TEST ALPHA VANTAGE FEED

; secrets should not be saved in a notebook
;
; secret loads a key from user defined secrets.
; the current implementation does just read the file test/creds.edn
; in the future the notebook will save creds only in webbrowser local storage

(set-key! (secret :alphavantage))
;(clojure.pprint/print-table (take 5 (reverse (get-daily :compact "FNARX"))))
(get-daily :compact "BONGO1")
;; @@
;; =>
;;; ["^ ","~:type","~:list-like","~:open",["~:span",["^ ","~:class","clj-list"],"("],"~:close",["^3",["^ ","^4","clj-list"],")"],"~:separator",["^3"," "],"~:items",["~#list",[]],"~:value","()"]
;; <=

;; @@ [clj]
"|    UTC-05 |    FTEC | Fidelity MSCI Information Technology Index ETF |   ETF | United States |       USD |      0.6047 |        16:00 |       09:30 |
|    UTC-05 |    FENY |                 Fidelity MSCI Energy Index ETF |   ETF | United States |       USD |      0.5652 |        16:00 |       09:30 |
|    UTC-05 |    FUTY |              Fidelity MSCI Utilities Index ETF |   ETF | United States |       USD |      0.5532 |        16:00 |       09:30 |
|    UTC-05 |    FNCL |             Fidelity MSCI Financials Index ETF |   ETF | United States |       USD |      0.5417 |        16:00 |       09:30 |
|    UTC-05 |    FSTA |       Fidelity MSCI Consumer Staples Index ETF |   ETF | United States |       USD |      0.5417 |        16:00 |       09:30 |
|    UTC-05 |    FHLC |            Fidelity MSCI Health Care Index ETF |   ETF | United States |       USD |      0.5417 |        16:00 |       09:30 |
|    UTC-05 |    FDIS | Fidelity MSCI Consumer Discretionary Index ETF |   ETF | United States |       USD |      0.4906 |        16:00 |       09:30 |
|    UTC-05 |    FREL |            Fidelity MSCI Real Estate Index ETF |   ETF | United States |       USD |      0.4407 |        16:00 |       09:30 |
|    UTC-05 |    FCOM | Fidelity MSCI Communication Services Index ETF |   ETF | United States |       USD |      0.4407 |        16:00 |       09:30 |
|    UTC-05 |    FIDU |            Fidelity MSCI Industrials Index ETF |   ETF | United States |       USD |      0.4407 |        16:00 |       09:30 |"()

;; @@
;; =>
;;; ["^ ","~:type","~:list-like","~:open",["~:span",["^ ","~:class","clj-list"],"("],"~:close",["^3",["^ ","^4","clj-list"],")"],"~:separator",["^3"," "],"~:items",["~#list",[]],"~:value","()"]
;; <=

;; @@ [clj]
(defn filename [symbol] (str path symbol ".csv"))
(def symbols (map :symbol (load-edn-resource "ta/fidelity-select.edn")))
;(clojure.pprint/print-table (load-edn-resource "ta/fidelity-select.edn"))
symbols
;; @@
;; =>
;;; ["^ ","~:type","~:list-like","~:open",["~:span",["^ ","~:class","clj-lazy-seq"],"("],"~:close",["^3",["^ ","^4","clj-lazy-seq"],")"],"~:separator",["^3"," "],"~:items",["~#list",[["^ ","^0","~:html","~:content",["^3",["^ ","^4","clj-string"],"\"FPHAX\""],"~:value","\"FPHAX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSPHX\""],"^;","\"FSPHX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSENX\""],"^;","\"FSENX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FDLSX\""],"^;","\"FDLSX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSPCX\""],"^;","\"FSPCX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FDFAX\""],"^;","\"FDFAX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FIDSX\""],"^;","\"FIDSX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FBSOX\""],"^;","\"FBSOX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSPTX\""],"^;","\"FSPTX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSUTX\""],"^;","\"FSUTX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSAGX\""],"^;","\"FSAGX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSCHX\""],"^;","\"FSCHX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FCYIX\""],"^;","\"FCYIX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FDCPX\""],"^;","\"FDCPX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FBIOX\""],"^;","\"FBIOX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSRBX\""],"^;","\"FSRBX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSRPX\""],"^;","\"FSRPX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSNGX\""],"^;","\"FSNGX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSDCX\""],"^;","\"FSDCX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSAIX\""],"^;","\"FSAIX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSDPX\""],"^;","\"FSDPX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FWRLX\""],"^;","\"FWRLX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSAVX\""],"^;","\"FSAVX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSHOX\""],"^;","\"FSHOX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FBMPX\""],"^;","\"FBMPX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSLEX\""],"^;","\"FSLEX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSESX\""],"^;","\"FSESX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSCPX\""],"^;","\"FSCPX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSELX\""],"^;","\"FSELX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSRFX\""],"^;","\"FSRFX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSTCX\""],"^;","\"FSTCX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FNARX\""],"^;","\"FNARX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSMEX\""],"^;","\"FSMEX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSDAX\""],"^;","\"FSDAX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSCSX\""],"^;","\"FSCSX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSLBX\""],"^;","\"FSLBX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSLZX\""],"^;","\"FSLZX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FMCDX\""],"^;","\"FMCDX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FMCEX\""],"^;","\"FMCEX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FMCCX\""],"^;","\"FMCCX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FMCAX\""],"^;","\"FMCAX\""]]],"^;","(\"FPHAX\" \"FSPHX\" \"FSENX\" \"FDLSX\" \"FSPCX\" \"FDFAX\" \"FIDSX\" \"FBSOX\" \"FSPTX\" \"FSUTX\" \"FSAGX\" \"FSCHX\" \"FCYIX\" \"FDCPX\" \"FBIOX\" \"FSRBX\" \"FSRPX\" \"FSNGX\" \"FSDCX\" \"FSAIX\" \"FSDPX\" \"FWRLX\" \"FSAVX\" \"FSHOX\" \"FBMPX\" \"FSLEX\" \"FSESX\" \"FSCPX\" \"FSELX\" \"FSRFX\" \"FSTCX\" \"FNARX\" \"FSMEX\" \"FSDAX\" \"FSCSX\" \"FSLBX\" \"FSLZX\" \"FMCDX\" \"FMCEX\" \"FMCCX\" \"FMCAX\")"]
;; <=

;; @@ [clj]
(defn no-data? [series]
  (or (nil? series) (= 0 (count series))))

(defn update-needed? [symbol]
  (->> symbol filename load-bars-file no-data?))

(defn save-series [symbol series]
  (if (no-data? series)
    (println "No data for: " symbol " data: " series)
    (save-bars-file (filename symbol) series)))

(defn download-save [symbol]
  (->> symbol 
       (println "downloading")
       (get-daily :compact)
       (save-series symbol)))

;(download-save "FNARX")
;(update-needed? "FNARX")
;; @@
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-var"],"#'dynalloc/download-save"],"~:value","#'dynalloc/download-save"]
;; <=

;; @@ [clj]
(filter update-needed? symbols)
;; @@
;; =>
;;; ["^ ","~:type","~:list-like","~:open",["~:span",["^ ","~:class","clj-lazy-seq"],"("],"~:close",["^3",["^ ","^4","clj-lazy-seq"],")"],"~:separator",["^3"," "],"~:items",["~#list",[["^ ","^0","~:html","~:content",["^3",["^ ","^4","clj-string"],"\"FSENX\""],"~:value","\"FSENX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSUTX\""],"^;","\"FSUTX\""],["^ ","^0","^9","^:",["^3",["^ ","^4","clj-string"],"\"FSAIX\""],"^;","\"FSAIX\""]]],"^;","(\"FSENX\" \"FSUTX\" \"FSAIX\")"]
;; <=

;; @@ [clj]
(do (doall (map download-save (filter update-needed? symbols)))
    (println "updating data finished!"))
;; @@
;; ->
;;; downloading FSENX
;;; No data for:  FSENX
;;; downloading FSUTX
;;; No data for:  FSUTX
;;; downloading FSAIX
;;; No data for:  FSAIX
;;; updating data finished!
;; <-
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-nil"],"nil"],"~:value","nil"]
;; <=

;; @@ [clj]
(download-save "FSAIX")
;; @@
;; ->
;;; downloading FSAIX
;;; No data for:  FSAIX  data:  ()
;; <-
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-nil"],"nil"],"~:value","nil"]
;; <=

;; @@ [clj]
;(load-bars-file (filename "FNARX"))
(update-needed? "FSPHX")
;; @@
;; =>
;;; ["^ ","~:type","~:html","~:content",["~:span",["^ ","~:class","clj-boolean"],"false"],"~:value","false"]
;; <=

;; @@ [clj]

;; @@
;; ->
;;; 
;; <-
;; =>
;;; ["^ ","~:type","html","~:value",["~:span"]]
;; <=
